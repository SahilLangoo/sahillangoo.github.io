---
import { type CollectionEntry, getCollection } from 'astro:content'
import Project from '../../layouts/ProjectLayout.astro'

export async function getStaticPaths() {
	const projects = await getCollection('projects')
	return projects.map(({ slug, ...props }) => ({ params: { slug }, props }))
}

type Props = CollectionEntry<'projects'>
const { data, render } = Astro.props
const { Content } = await render()
---

<Project {...data}>
	<Content />
</Project>
